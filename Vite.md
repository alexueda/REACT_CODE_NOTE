+++
# Vite
ðŸ“– è©³ã—ãèª­ã‚€: Vite

React ã®åŸºæœ¬ã‚’ã‚«ãƒãƒ¼ã—ãŸã¨ã“ã‚ã§ã€Simon ã‚„ä»–ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã« JSXã€ç¸®å°åŒ–ã€ãƒãƒªãƒ•ã‚£ãƒ«ã€ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã€å®Œå…¨ãª Web ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³ã‚’å°Žå…¥ã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®æŠ€è¡“ã‚’æ´»ç”¨ã™ã‚‹ãŸã‚ã®ä¸€èˆ¬çš„ãªæ–¹æ³•ã®ä¸€ã¤ã¯ã€ã‚³ãƒžãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï¼ˆCLIï¼‰ã‚’ä½¿ã£ã¦ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆæœŸè¨­å®šã™ã‚‹ã“ã¨ã§ã™ã€‚CLI ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ‰‹å‹•ã§è¨­å®šã™ã‚‹æ‰‹é–“ãŒçœã‘ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã°ã‚„ãä½œæ¥­ã‚’é–‹å§‹ã§ãã¾ã™ã€‚

ç§ãŸã¡ã®ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³ã«ã¯ Vite ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚Vite ã¯ã‚³ãƒ¼ãƒ‰ã‚’ç´ æ—©ããƒãƒ³ãƒ‰ãƒ«ã—ã€å„ªã‚ŒãŸãƒ‡ãƒãƒƒã‚°ã‚µãƒãƒ¼ãƒˆãŒã‚ã‚Šã€JSXã€TypeScriptã€ã•ã¾ã–ã¾ãª CSS ãƒ•ãƒ¬ãƒ¼ãƒãƒ¼ã‚’ç°¡å˜ã«ã‚µãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚Vite ã‚’ä½¿ã„å§‹ã‚ã‚‹ãŸã‚ã«ã€ã¾ãšã‚·ãƒ³ãƒ—ãƒ«ãª Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ãã®å¾Œã€Simon ã‚’ React ã§å†æ§‹ç¯‰ã—ã€Vite ã®ä½¿ç”¨æ–¹æ³•ã‚’ç¿’å¾—ã—ã¦ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã« React ã‚’å°Žå…¥ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

æ–°ã—ã„ React ãƒ™ãƒ¼ã‚¹ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ Vite ã‚’ä½¿ã£ã¦ä½œæˆã™ã‚‹ã«ã¯ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã„ã¦æ¬¡ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

    npm create vite@latest demoVite -- --template react
    cd demoVite
    npm install
    npm run dev

ã“ã®æ“ä½œã§ demoVite ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ–°ã—ã„ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½œæˆã•ã‚Œã€å¿…è¦ãªã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã€ãƒ­ãƒ¼ã‚«ãƒ«ã® HTTP ãƒ‡ãƒãƒƒã‚°ã‚µãƒ¼ãƒãƒ¼ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•ã•ã‚Œã¾ã™ã€‚`o`ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨ Vite ã«ã‚ˆã£ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒ›ã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ URL ãŒãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã‹ã‚Œã€`h`ã‚’æŠ¼ã™ã¨ Vite CLI ã®å…¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

## Vite ãƒ‡ãƒ¢

ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼åˆã‚ã¦ã® React å¯¾å¿œ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚

ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ“ä½œã—ãŸå¾Œã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«æˆ»ã‚Šã€`q`ã‚’æŠ¼ã™ã¨ Vite ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚’åœæ­¢ã§ãã¾ã™ã€‚

### ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
æ¬¡ã«ã€Vite ãŒä½œæˆã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¾ã™ã€‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ VS Codeï¼ˆ`code .`ï¼‰ã‚’ä½¿ç”¨ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é–‹ãã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ãƒ•ã‚¡ã‚¤ãƒ«                | ç”¨é€”                                                                 |
|--------------|--------------------------|----------------------------------------------------------------------|
| `./`         | `index.html`             | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã€‚`main.jsx` ã‹ã‚‰å§‹ã¾ã‚‹ã™ã¹ã¦ã® JSX ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚|
|              | `package.json`           | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚ã‚„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚³ãƒžãƒ³ãƒ‰ã®å®šç¾©ã€‚`npm run dev` ã§ Vite ã‚’èµ·å‹•ã€‚ |
|              | `package-lock.json`      | å«ã¾ã‚Œã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¶ç´„ï¼ˆç·¨é›†ä¸å¯ï¼‰ã€‚                       |
|              | `vite.config.js`         | Vite ã®è¨­å®šã€‚ç‰¹ã«é–‹ç™ºç”¨ã® React ã®è¨­å®šãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚                |
| `./public`   | `vite.svg`               | favicon ã¨ã—ã¦ã®åˆ©ç”¨ã‚„ã‚¢ãƒ—ãƒªå†…ã§è¡¨ç¤ºã•ã‚Œã‚‹ Vite ãƒ­ã‚´ã€‚                |
| `./src`      | `main.jsx`               | ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã€‚`App.jsx` ã® App ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ |
|              | `index.css`              | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã® CSSã€‚                                          |
|              | `App.jsx`                | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã® JSX ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã€ã‚¯ãƒªãƒƒã‚¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’å®Ÿè£…ã€‚ |
|              | `App.css`                | ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç”¨ã® CSSã€‚                   |
| `./src/assets` | `react.svg`             | ã‚¢ãƒ—ãƒªã§è¡¨ç¤ºã•ã‚Œã‚‹ React ãƒ­ã‚´ã€‚                                       |

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸»ãªãƒ•ã‚¡ã‚¤ãƒ«ã¯ `index.html`ã€`main.jsx`ã€`App.jsx` ã§ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã¯ `index.html` ã‚’èª­ã¿è¾¼ã¿ã€React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ³¨å…¥ã•ã‚Œã‚‹ HTML è¦ç´  (`#root`) ã‚’æä¾›ã—ã¾ã™ã€‚ã¾ãŸã€`main.jsx` ã‚’èª­ã¿è¾¼ã‚€ãŸã‚ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¦ç´ ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

`main.jsx` ã¯ã€`#root` è¦ç´ ã¨ `App.jsx` å†…ã® App ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é–¢é€£ä»˜ã‘ã‚‹ã“ã¨ã§ React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é–¢æ•°ãŒå®Ÿè¡Œã•ã‚Œã€ç”Ÿæˆã•ã‚ŒãŸ HTMLã€CSSã€ãŠã‚ˆã³ JavaScript ãŒ `index.html` ã«ã‚ˆã£ã¦å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

## ãƒ•ã‚¡ã‚¤ãƒ«ã®é–¢ä¿‚

### JSX vs JS
Vite CLI ã¯ã€JavaScript `.js` æ‹¡å¼µå­ã®ä»£ã‚ã‚Šã« `.jsx` æ‹¡å¼µå­ã‚’ JSX ãƒ•ã‚¡ã‚¤ãƒ«ã«ä½¿ç”¨ã—ã¾ã™ã€‚Babel ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ©ãƒ¼ã¯ã©ã¡ã‚‰ã§ã‚‚å‹•ä½œã—ã¾ã™ãŒã€ä¸€éƒ¨ã®ã‚¨ãƒ‡ã‚£ã‚¿ãƒ„ãƒ¼ãƒ«ã¯æ‹¡å¼µå­ã«ã‚ˆã£ã¦ç•°ãªã‚‹å‹•ä½œã‚’ã—ã¾ã™ã€‚ã“ã®ãŸã‚ã€JSX ã‚’å«ã‚€ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ `.jsx` ã‚’æŽ¨å¥¨ã—ã¾ã™ã€‚ã“ã®ãƒˆãƒ”ãƒƒã‚¯ã«ã¤ã„ã¦ã¯ã€AirBNB ã®é–‹ç™ºè€…ã«ã‚ˆã‚‹èˆˆå‘³æ·±ã„è­°è«–ãŒã‚ã‚‹ã®ã§ã€ç•°ãªã‚‹æ„è¦‹ã‚’çŸ¥ã‚ŠãŸã„å ´åˆã¯å‚ç…§ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

### ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒªãƒªãƒ¼ã‚¹ã®ãƒ“ãƒ«ãƒ‰
`npm run dev` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€Vite ã®ãƒ‡ãƒãƒƒã‚° HTTP ã‚µãƒ¼ãƒãƒ¼ãŒèª­ã¿è¾¼ã‚€ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ¼ãƒ‰ãŒãƒãƒ³ãƒ‰ãƒ«ã•ã‚Œã¾ã™ã€‚ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã‚‹ã‚ˆã†ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒãƒ³ãƒ‰ãƒ«ã™ã‚‹å ´åˆã¯ã€`npm run build` ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€`package.json` ã«ã‚ã‚‹ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå®Ÿè¡Œã•ã‚Œã€Vite CLI ãŒèµ·å‹•ã—ã¾ã™ã€‚`vite build` ã¯ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã€ç¸®å°åŒ–ã€é©åˆ‡ãª JavaScript ã®æŒ¿å…¥ã‚’è¡Œã„ã€ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™ãŒæ•´ã£ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ `dist` ã¨ã„ã†åå‰ã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å‡ºåŠ›ã—ã¾ã™ã€‚

    âžœ  npm run build

    > demovite@0.0.0 build
    > vite build

    vite v4.3.7 building for production...
    âœ“ 34 modules transformed.
    dist/index.html                   0.45 kB â”‚ gzip:  0.30 kB
    dist/assets/react-35ef61ed.svg    4.13 kB â”‚ gzip:  2.14 kB
    dist/assets/index-51439b3f.css    1.42 kB â”‚ gzip:  0.74 kB
    dist/assets/index-58d24859.js   143.42 kB â”‚ gzip: 46.13 kB
    âœ“ built in 382ms
